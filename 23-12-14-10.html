<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가위바위보 게임 만들기</title>
    <script>

        var totalWins = 0, totalLoses = 0, totalCompares = 0;

        // 사용자가 게임을 더 할지 여부를 물어보는 바깥쪽 루프
            var game = 0, win = 0, lose = 0, compare = 0;

            // 한 번의 게임을 처리하는 안쪽 루프
        function playGame() {
            game = 0;
            do {
                var user = prompt('묵,찌,빠 중 입력 하세요');
                var computer = Math.floor(Math.random() * 3 + 1);

                if (computer == 1) {
                    computer = '묵';
                } else if (computer == 2) {
                    computer = '찌';
                } else {
                    computer = '빠';
                }

                if (user == computer) {
                    alert('비겼습니다'+'사용자 : ' + user + '\n컴퓨터 : ' + computer);
                    compare += 1;
                    game += 1;
                } 
                else if (user == '묵') {
                    if (computer == '찌') {
                        alert('이겼습니다');
                        win += 1;
                    } else {
                        alert('졌습니다');
                        lose += 1;
                    }
                    game += 1;
                } 
                else if (user == '찌') {
                    if (computer == '묵') {
                        alert('졌습니다');
                        lose += 1;
                    } else {
                        alert('이겼습니다');
                        win += 1;
                    }
                    game += 1;
                } 
                else if (user == '빠') {
                    if (computer == '묵') {
                        alert('이겼습니다');
                        win += 1;
                    } else {
                        alert('졌습니다');
                        lose += 1;
                    }
                    game += 1;
                } 
                else {
                    alert('잘못 내셨습니다 , 다시 실행해주세요');
                }

            } while (game < 3);
        
            // 한 번의 게임이 끝난 후 결과를 보여줍니다.
            // alert('3번의 게임중 : ' + win + '패배 : ' + lose + '비긴 횟수 : ' + compare);
            document.write('게임결과 : ' + win + '패배 : ' + lose + '비긴 횟수 : ' + compare);
            var playAgain = confirm('게임을 다시 하시겠습니까?');
            return playAgain;
        }
            while (playGame()) {}   

            // // 전체 결과를 누적합니다.
            // totalWins += win;
            // totalLoses += lose;
            // totalCompares += compare;

    //     // 전체 게임이 끝난 후 최종 결과를 보여줍니다.
    // document.write('전체 결과\n총 승리 : ' + totalWins + '\n총 패배 : ' + totalLoses + '\n총 비긴 횟수 : ' + totalCompares);
    
    //     var playAgain = confirm('게임을 다시 하시겠습니까?');
    // } while (playAgain);
// https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Functions 
// ▲ 위 에서 펑션을 사용하는 방법으로 할수 있음.

    </script>
</head>
<body>

</body>
</html>